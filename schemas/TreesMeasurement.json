{
  "name": "trees_measurement",
  "path": "trees_measurement.csv",
  "schema": {
    "fields": [
      {
        "name": "company",
        "type": "string",
        "constraints": {
          "required": true,
          "pattern": "/^(AINS|GOA|APLY|ALPC|ANC|BLUE|CFPL|CFS|DAIS|FOFP|BUCH|MDFP|MWWC|SLPC|SPRA|SUND|SFPI|HLFP|TOLK|TOSL|UOA|VAND|WFML|WEYR|WEYR|UNKN|HPFP)$/"
        }
      },
      {
        "name": "company_plot_number",
        "type": "string",
        "constraints": {
          "required": true
        }
      },
      {
        "name": "measurement_number",
        "type": "integer",
        "constraints": {
          "required": true
        }
      },
      {
        "name": "tree_number",
        "type": "integer",
        "constraints": {
          "min": 1,
          "max": 999999
        }
      },
      {
        "name": "tree_type",
        "type": "string",
        "constraints": {
          "required": true,
          "pattern": "/^(T|S|PS|PO|B|R1|R2|R3|R4|R5|R6|R7|R8|R9|R10)$/"
        }
      },
      {
        "name": "dbh",
        "type": "number",
        "constraints": {
          "min": 0.1,
          "max": 120
        }
      },
      {
        "name": "dbh_height",
        "type": "number",
        "constraints": {
          "min": 1.1,
          "max": 1.5
        }
      },
      {
        "name": "rcd",
        "type": "number",
        "constraints": {
          "min": 0.1,
          "max": 15
        }
      },
      {
        "name": "rcd_height",
        "type": "number",
        "constraints": {
          "min": 0.0,
          "max": 0.3
        }
      },
      {
        "name": "height",
        "type": "number",
        "constraints": {
          "min": 0.1,
          "max": 45
        }
      },
      {
        "name": "crown_class",
        "type": "string",
        "constraints": {
          "required": true,
          "pattern": "/^(D|C|I|S|N)$/"
        }
      },
      {
        "name": "dbh_age",
        "type": "integer",
        "constraints": {
          "required": true
        }
      },
      {
        "name": "stump_age",
        "type": "integer",
        "constraints": {
          "min": 1,
          "max": 350
        }
      },
      {
        "name": "stump_height",
        "type": "number",
        "constraints": {
          "min": 0,
          "max": 30
        }
      },
      {
        "name": "total_age",
        "type": "integer",
        "constraints": {
          "min": 1,
          "max": 350
        }
      },
      {
        "name": "htlc",
        "type": "number",
        "constraints": {
          "min": 1.3,
          "max": 45
        }
      },
      {
        "name": "crown_diameter_ns",
        "type": "number",
        "constraints": {
          "min": 1,
          "max": 20
        }
      },
      {
        "name": "crown_diameter_ew",
        "type": "number",
        "constraints": {
          "min": 1,
          "max": 20
        }
      },
      {
        "name": "condition_code1",
        "type": "integer",
        "constraints": {
          "required": true,
          "pattern": "/^(0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16)$/"
        }
      },
      {
        "name": "cause1",
        "type": "integer",
        "constraints": {
          "required": true,
          "pattern": "/^(1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20|21|22|23|99)$/"
        }
      },
      {
        "name": "severity1",
        "type": "integer",
        "constraints": {
          "required": true,
          "pattern": "/^(1|2|3|9)$/"
        }
      },
      {
        "name": "condition_code2",
        "type": "integer",
        "constraints": {
          "required": true,
          "pattern": "/^(0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16)$/"
        }
      },
      {
        "name": "cause2",
        "type": "integer",
        "constraints": {
          "required": true,
          "pattern": "/^(1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20|21|22|23|99)$/"
        }
      },
      {
        "name": "severity2",
        "type": "integer",
        "constraints": {
          "required": true,
          "pattern": "/^(1|2|3|9)$/"
        }
      },
      {
        "name": "condition_code3",
        "type": "integer",
        "constraints": {
          "required": true,
          "pattern": "/^(0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16)$/"
        }
      },
      {
        "name": "cause3",
        "type": "integer",
        "constraints": {
          "required": true,
          "pattern": "/^(1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|20|21|22|23|99)$/"
        }
      },
      {
        "name": "severity3",
        "type": "integer",
        "constraints": {
          "required": true,
          "pattern": "/^(1|2|3|9)$/"
        }
      },
      {
        "name": "trees_measurement_comment",
        "type": "string"
        }
      }
    ]
  },
  "primaryKey": ["company", "company_plot_number"],
  "foreignKeys": [
    {
      "fields": ["company", "company_plot_number"],
      "reference": {
        "resource": "plot",
        "fields": ["company", "company_plot_number"]
      }
    }
  ]
}