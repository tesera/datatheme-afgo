{
  "name": "photo_avi_layer",
  "path": "photo_avi.csv",
  "schema": {
    "fields": [
      {
        "name": "company",
        "type": "string",
        "constraints": {
          "required": true,
          "pattern": "/^(AINS|GOA|APLY|ALPC|ANC|BLUE|BUCH|CFPL|CFS|DAIS|FOFP|MDFP|MWWC|SLPC|SPRA|SUND|SFPI|HLFP|TOLK|TOSL|UOA|VAND|WFML|WYGP|WYPM|UNKN|HPFP)$/"
        }
      },
      {
        "name": "company_plot_number",
        "type": "string",
        "constraints": {
          "required": true
        }
      },
      {
        "name": "avi_version",
        "type": "string",
        "constraints": {
          "required":true
        }
      },
      {
        "name": "polygon_number",
        "type": "string",
        "constraints": {
          "required":true
        }
      },
      {
        "name": "year_photography",
        "type": "integer",
        "constraints": {
          "min":1900,
          "max":2050,
          "required": true
        }
      },
      {
        "name": "year_photo_call",
        "type": "integer",
        "constraints": {
          "min":1900,
          "max":2050,
          "required": true
        }
      },
      {
        "name": "layer_type",
        "type": "integer",
        "constraints": {
          "pattern": "/^(1|2|3|4|5)$/"
        }
      },
      {
        "name": "moist_reg",
        "type": "string",
        "constraints": {
          "pattern": "/^(a|b|c|d)$/"
        }
      },
      {
        "name": "density",
        "type": "string",
        "constraints": {
          "pattern": "/^(V|A|B|C|D)$/"
        }
      },
      {
        "name": "height",
        "type": "number",
        "constraints": {
          "min": 0,
          "max": 50
        }
      },
      {
        "name": "sp1",
        "type": "string",
        "constraints": {
          "pattern": "/^(A|Aw|Pb|Bw|Ax|Dd|Dc|P|Pl|Pw|Pa|Pf|Pj|Px|Sw|Se|Sb|Sx|Fb|Fa|Fd|Lt|Lw|La|Ls|Du|Ms|No)$/"
        }
      },
      {
        "name": "sp1_per",
        "type": "integer",
        "constraints": {
          "pattern": "/^(0|2|3|4|5|6|7|8|9|10)$/"
        }
      },
      {
        "name": "sp2",
        "type": "string",
        "constraints": {
          "pattern": "/^(A|Aw|Pb|Bw|Ax|Dd|Dc|Pl|Pw|Pa|Pf|Pj|Px|Sw|Se|Sb|Sx|Fb|Fa|Fd|Lt|Lw|La|Ls|Du|Ms|No)$/"
        }
      },
      {
        "name": "sp2_per",
        "type": "integer",
        "constraints": {
          "pattern": "/^(1|2|3|4|5)$/"
        }
      },
      {
        "name": "sp3",
        "type": "string",
        "constraints": {
          "pattern": "/^(A|Aw|Pb|Bw|Ax|Dd|Dc|Pl|Pw|Pa|Pf|Pj|Px|Sw|Se|Sb|Sx|Fb|Fa|Fd|Lt|Lw|La|Ls|Du|Ms|No)$/"
        }
      },
      {
        "name": "sp3_per",
        "type": "integer",
        "constraints": {
          "pattern": "/^(1|2|3)$/"
        }
      },
      {
        "name": "sp4",
        "type": "string",
        "constraints": {
          "pattern": "/^(A|Aw|Pb|Bw|Ax|Dd|Dc|Pl|Pw|Pa|Pf|Pj|Px|Sw|Se|Sb|Sx|Fb|Fa|Fd|Lt|Lw|La|Ls|Du|Ms|No)$/"
        }
      },
      {
        "name": "sp4_per",
        "type": "integer",
        "constraints": {
          "pattern": "/^(1|2)$/"
        }
      },
      {
        "name": "sp5",
        "type": "string",
        "constraints": {
          "pattern": "/^(A|Aw|Pb|Bw|Ax|Dd|Dc|Pl|Pw|Pa|Pf|Pj|Px|Sw|Se|Sb|Sx|Fb|Fa|Fd|Lt|Lw|La|Ls|Du|Ms|No)$/"
        }
      },
      {
        "name": "sp5_per",
        "type": "integer",
        "constraints": {
          "pattern": "/^(1|2)$/"
        }
      },
      {
        "name": "struc",
        "type": "string",
        "constraints": {
          "pattern": "/^(S|M|C|H)$/"
        }
      },
      {
        "name": "struc_val",
        "type": "integer",
        "constraints": {
          "pattern": "/^(0|1|2|3|4|5|6|7|8|9)$/"
        }
      },
      {
        "name": "origin",
        "type": "integer",
        "constraints": {
          "min": 1400,
          "max": 2050 
        }
      },
      {
        "name": "tpr",
        "type": "string",
        "constraints": {
          "pattern": "/^(U|F|M|G)$/"
        }
      },
      {
      "name": "photo_avi_layer_comment",
        "type": "string"
      }
    ]
  },
  "primaryKey": ["company", "company_plot_number", "avi_version", "polygon_number", "year_photography", "year_photo_call", "layer_type"],
  "foreignKeys": [
    {
      "fields": ["company", "company_plot_number"],
      "reference": {
        "resource": "plot",
        "fields": ["company"," company_plot_number"]
      }
    }
  ]
}