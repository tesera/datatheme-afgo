{
  "name": "photo_avi_layer",
  "path": "photo_avi.csv",
  "schema": {
    "fields": [
      {
        "name": "company",
        "title": "Company",
        "type": "string",
        "raises": "error",
        "constraints": {
          "required": true,
          "pattern": "/^(AINS|ALPC|ANC|APLY|BLUE|CFPL|CFS|DAIS|FOFP|GOA|HPFP|HLFP|MDFP|MWWC|SFPI|SLPC|SPRA|SUND|TOLK|TOSL|UNKN|UOA|VAND|WFML|WYGP|WYPM)$/"
        }
      },
      {
        "name": "company_plot_number",
        "title": "Company Plot Number",
        "type": "string",
        "raises": "error",
        "constraints": {
          "required": true,
          "maxLength": 15
        }
      },
      {
        "name": "avi_version",
        "title": "Alberta Vegetation Inventory Version",
        "type": "string",
        "raises": "error",
        "constraints": {
          "required": true,
          "pattern": "/^(AVI1\\.0|AVI2\\.1|AVI2\\.1\\.1|AVI2\\.2)$/"
        }
      },
      {
        "name": "polygon_number",
        "title": "Polygon Number",
        "type": "integer",
        "raises": "error",
        "constraints": {
          "required": true,
          "minimum": 1,
          "maximum": 9999999999
        }
      },
      {
        "name": "year_photography",
        "title": "Year Photography",
        "type": "integer",
        "raises": "error",
        "constraints": {
          "required": true,
          "minimum": 1900,
          "maximum": 2050
        }
      },
      {
        "name": "year_photo_call",
        "title": "Year Photo Call",
        "type": "integer",
        "constraints": {
          "minimum": 1900,
          "maximum": 2050
        }
      },
      {
        "name": "layer_type",
        "title": "Layer Type",
        "type": "integer",
        "raises": "error",
        "constraints": {
          "required": true, 
          "pattern": "/^(1|2|3|4|5)$/"
        }
      },
      {
        "name": "moist_reg",
        "title": "Moisture Regime",
        "type": "string",
        "raises": "warning",
        "constraints": {
          "required": true,
          "pattern": "/^(d|m|w|a)$/"
        }
      },
      {
        "name": "density",
        "title": "Density",
        "type": "string",
        "constraints": {
          "pattern": "/^(A|B|C|D)$/"
        }
      },
      {
        "name": "height",
        "title": "Height",
        "type": "integer",
        "raises": "error",
        "constraints": {
          "required": true,
          "minimum": 0,
          "maximum": 50
        }
      },
      {
        "name": "sp1",
        "title": "Species 1",
        "type": "string",
        "raises": "error",
        "constraints": {
          "required": true,
          "pattern": "/^(A|Aw|Ax|Bw|Fb|Fa|Fd|Lt|Lw|La|Ls|Pb|P|Pl|Pw|Pa|Pf|Pj|Px|Sw|Se|Sb|Sx|No)$/"
        }
      },
      {
        "name": "sp1_per",
        "title": "Species 1 Percentage",
        "type": "integer",
        "raises": "error",
        "constraints": {
          "required": true,
          "pattern": "/^(0|2|3|4|5|6|7|8|9|10)$/"
        }
      },
      {
        "name": "sp2",
        "title": "Species 2",
        "type": "string",
        "constraints": {
          "pattern": "/^(A|Aw|Ax|Bw|Fb|Fa|Fd|Lt|Lw|La|Ls|Pb|P|Pl|Pw|Pa|Pf|Pj|Px|Sw|Se|Sb|Sx|No)$/"
        }
      },
      {
        "name": "sp2_per",
        "title": "Species 2 Percentage",
        "type": "integer",
        "raises": "error",
        "constraints": {
          "required": true,
          "pattern": "/^(0|1|2|3|4|5)$/"
        }
      },
      {
        "name": "sp3",
        "title": "Species 3",
        "type": "string",
        "constraints": {
          "pattern": "/^(A|Aw|Ax|Bw|Fb|Fa|Fd|Lt|Lw|La|Ls|Pb|P|Pl|Pw|Pa|Pf|Pj|Px|Sw|Se|Sb|Sx|No)$/"
        }
      },
      {
        "name": "sp3_per",
        "title": "Species 3 Percentage",
        "type": "integer",
        "raises": "error",
        "constraints": {
          "required": true,
          "pattern": "/^(0|1|2|3)$/"
        }
      },
      {
        "name": "sp4",
        "title": "Species 4",
        "type": "string",
        "constraints": {
          "pattern": "/^(A|Aw|Ax|Bw|Fb|Fa|Fd|Lt|Lw|La|Ls|Pb|P|Pl|Pw|Pa|Pf|Pj|Px|Sw|Se|Sb|Sx|No)$/"
        }
      },
      {
        "name": "sp4_per",
        "title": "Species 4 Percentage",
        "type": "integer",
        "raises": "error",
        "constraints": {
          "required": true,
          "pattern": "/^(0|1|2)$/"
        }
      },
      {
        "name": "sp5",
        "title": "Species 5",
        "type": "string",
        "constraints": {
          "pattern": "/^(A|Aw|Ax|Bw|Fb|Fa|Fd|Lt|Lw|La|Ls|Pb|P|Pl|Pw|Pa|Pf|Pj|Px|Sw|Se|Sb|Sx|No)$/"
        }
      },
      {
        "name": "sp5_per",
        "title": "Species 5 Percentage",
        "type": "integer",
        "raises": "error",
        "constraints": {
          "required": true,
          "pattern": "/^(0|1|2)$/"
        }
      },
      {
        "name": "struc",
        "title": "Structure",
        "type": "string",
        "constraints": {
          "pattern": "/^(C|H|M|S)$/"
        }
      },
      {
        "name": "struc_val",
        "title": "Structure Value",
        "type": "integer",
        "constraints": {
          "pattern": "/^(0|1|2|3|4|5|6|7|8|9)$/"
        }
      },
      {
        "name": "origin",
        "title": "Origin Class",
        "type": "integer",
        "constraints": {
          "minimum": 0,
          "maximum": 2050
        }
      },
      {
        "name": "tpr",
        "title": "Timber Productivity Rating Class",
        "type": "string",
        "constraints": {
          "pattern": "/^(F|G|M|U)$/"
        }
      },
      {
        "name": "initials",
        "title": "Initials",
        "type": "string",
        "constraints": {
          "maxLength": 2
        }
      },
      {
        "name": "nfl",
        "title": "Non-Forest Vegetated Land",
        "type": "string",
        "constraints": {
          "pattern": "/^(BR|HF|HG|SC|SO)$/"
        }
      },
      {
        "name": "nfl_per",
        "title": "Non-Forest Vegetated Land Percantage",
        "type": "string",
        "constraints": {
          "pattern": "/^(0|1|2|3|4|5|6|7|8|9|10)$/"
        }
      },
      {
        "name": "nat_non",
        "title": "Naturally Non-Vegetated Lands",
        "type": "string",
        "constraints": {
          "pattern": "/^(NMB|NMC|NMR|NMS|NWF|NWI|NWL|NWR)$/"
        }
      },
      {
        "name": "anth_veg",
        "title": "Anthropogenic Vegetated Land",
        "type": "string",
        "constraints": {
          "pattern": "/^(CA|CP|CPR|CIP|CIW)$/"
        }
      },
      {
        "name": "anth_non",
        "title": "Anthropogenic Non-Vegetated Land",
        "type": "string",
        "constraints": {
          "pattern": "/^(ASC|ASR|AIH|AIE|AIG|AIF|AIM|AII)$/"
        }
      },
      {
        "name": "mod1",
        "title": "Stand Modifier 1 Condition/Treatment",
        "type": "string",
        "constraints": {
          "pattern": "/^(BT|BU|CC|CL|DI|DT|GR|IK|IR|PL|SC|SI|SN|ST|TH|WE|WF|UK)$/"
        }
      },
      {
        "name": "mod1_ext",
        "title": "Stand Modifier Extent",
        "type": "string",
        "constraints": {
          "pattern": "/^(0|1|2|3|4|5)$/"
        }
      },
      {
        "name": "mod1_yr",
        "title": "Stand Modifier Year",
        "type": "integer",
        "constraints": {
          "minimum": 1900,
          "maximum": 2050
        }
      },
      {
        "name": "mod2",
        "title": "Stand Modifier 2 Condition/Treatment",
        "type": "string",
        "constraints": {
          "pattern": "/^(BT|BU|CC|CL|DI|DT|GR|IK|IR|PL|SC|SI|SN|ST|TH|WE|WF|UK)$/"          
        }
      },
      {
        "name": "mod2_ext",
        "title": "Stand Modifier 2 Extent",
        "type": "string",
        "constraints": {
          "pattern": "/^(0|1|2|3|4|5)$/"
        }
      },
      {
        "name": "mod2_yr",
        "title": "Stand Modifier 2 Year",
        "type": "integer",
        "constraints": {
          "minimum": 1900,
          "maximum": 2050        
        }
      },
      {
        "name": "data",
        "title": "Data",
        "type": "string",
        "constraints": {
          "pattern": "/^(A|C|F|I|L|P|S|V)$/"          
        }
      },
      {
        "name": "data_yr",
        "title": "Data Year",
        "type": "integer",
        "constraints": {
          "minimum": 1900,
          "maximum": 2050
        }
      },
      {
        "name": "photo_avi_layer_comment",
        "title": "Photo Avi Layer Comment",
        "type": "string",
        "constraints":{
          "maxLength": 250
        }
      }
    ]
  },
  "primaryKey": [
    "company",
    "company_plot_number",
    "polygon_number",
    "year_photography",
    "layer_type"
  ],
  "foreignKeys": [
    {
      "fields": [
        "company",
        "company_plot_number"
      ],
      "reference": {
        "resource": "plot",
        "fields": [
          "company",
          "company_plot_number"
        ]
      }
    }
  ]
}
